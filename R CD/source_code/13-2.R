# ---------
#  13-2
# ---------
# ---------------------------------------------------------- #
# ---------
#  13-2-1
# ---------
# ---------------------------------------------------------- #

theList %>% map_int(NROW)

# ---------------------------------------------------------- #

theList %>% map_int(mean)

# ---------------------------------------------------------- #
# ---------
#  13-2-2
# ---------
# ---------------------------------------------------------- #

theList %>% map_dbl(mean)

# ---------------------------------------------------------- #
# ---------
#  13-2-3
# ---------
# ---------------------------------------------------------- #

theList %>% map_chr(class)

# ---------------------------------------------------------- #

theList3 <- theList
theList3[['E']] <- factor(c('A', 'B', 'C'), ordered=TRUE)

class(theList3$E)

# ---------------------------------------------------------- #

theList3 %>% map_chr(class)

# ---------------------------------------------------------- #

theList3 %>% map(class)

# ---------------------------------------------------------- #
# ---------
#  13-2-4
# ---------
# ---------------------------------------------------------- #

theList %>% map_lgl(function(x) NROW(x) < 3)

# ---------------------------------------------------------- #
# ---------
#  13-2-5
# ---------
# ---------------------------------------------------------- #

buildDF <- function(x)
          {
              data.frame(A=1:x, B=x:1)
          }

listOfLengths <- list(3, 4, 1, 5)

# ---------------------------------------------------------- #

listOfLengths %>% map(buildDF)
  
# ---------------------------------------------------------- #  

listOfLengths %>% map_df(buildDF)
  
# ---------------------------------------------------------- #
# ---------
#  13-2-6
# ---------
# ---------------------------------------------------------- #
  
theList %>% map_if(is.matrix, function(x) x*2)
  
# ---------------------------------------------------------- #
  
theList %>% map_if(is.matrix, ~ .x*2)
  
# ---------------------------------------------------------- #